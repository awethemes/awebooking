{"version":3,"names":[],"mappings":"","sources":["admin/settings.js"],"sourcesContent":["(function($, plugin) {\r\n  'use strict';\r\n\r\n  const settings = window._awebookingSettings || {};\r\n\r\n  class MainSetting {\r\n    /**\r\n     * Handle leaving using window.onbeforeunload.\r\n     *\r\n     * @return {void}\r\n     */\r\n    handleLeaving() {\r\n      let changed = false;\r\n\r\n      // Set the changed if any controls fire change.\r\n      $('input, textarea, select, checkbox').on( 'change', function() {\r\n        changed = true;\r\n      });\r\n\r\n      $('.awebooking-settings')\r\n        .on('click', '.nav-tab-wrapper a', function() {\r\n          if (changed) {\r\n            window.onbeforeunload = function() {\r\n              return settings.i18n.nav_warning;\r\n            };\r\n          } else {\r\n            window.onbeforeunload = null;\r\n          }\r\n        })\r\n        .on('click', '.submit button', function() {\r\n          window.onbeforeunload = null;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create the datepicker.\r\n     *\r\n     * @return {void}\r\n     */\r\n    createDatepicker() {\r\n      $('#display_datepicker_disabledates').flatpickr({\r\n        mode: 'multiple',\r\n        dateFormat: 'Y-m-d'\r\n      });\r\n    }\r\n  }\r\n\r\n  /** Document ready */\r\n  $(function() {\r\n    const main = new MainSetting;\r\n\r\n    main.handleLeaving();\r\n    main.createDatepicker();\r\n  });\r\n\r\n})(jQuery, window.awebooking);\r\n"],"file":"settings.js"}