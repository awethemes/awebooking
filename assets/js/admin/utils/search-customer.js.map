{"version":3,"names":[],"mappings":"","sources":["admin/utils/search-customer.js"],"sourcesContent":["const $ = jQuery;\nconst plugin = window.awebooking;\n\nconst ajaxSearch = function(query, callback) {\n  $.ajax({\n    type: 'GET',\n    url: plugin.route( '/search/customers' ),\n    data: { term: encodeURIComponent(query) },\n    error: function() { callback(); },\n    success: function(res) { callback(res); }\n  });\n};\n\nconst initSelectize = function(select) {\n  $(select).selectize({\n    valueField: 'id',\n    labelField: 'display',\n    searchField: 'display',\n    dropdownParent: 'body',\n    placeholder: $(this).data('placeholder'),\n    load: function(query, callback) {\n      if (! query.length) {\n        return callback();\n      } else {\n        ajaxSearch(query, callback);\n      }\n    },\n  });\n}\n\nmodule.exports = function() {\n  $('select.awebooking-search-customer, .selectize-search-customer .cmb2_select').each(function() {\n    initSelectize(this);\n  });\n};\n"],"file":"search-customer.js"}